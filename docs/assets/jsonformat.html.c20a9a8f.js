import{h as Z,i as ee,j as te,k as ne,_ as re,l as oe,m as ae,o as le,c as ce,a as _,w as ie,v as se,u as D,b as ue,F as de,d as pe}from"./app.4cd134a9.js";var K={exports:{}},he=Z(ee);(function(A,B){(function(C,P){A.exports=P(he)})(te,function(C){return function(){var P={452:function(r){r.exports=C}},V={};function O(r){var b=V[r];if(b!==void 0)return b.exports;var j=V[r]={exports:{}};return P[r](j,j.exports,O),j.exports}O.d=function(r,b){for(var j in b)O.o(b,j)&&!O.o(r,j)&&Object.defineProperty(r,j,{enumerable:!0,get:b[j]})},O.o=function(r,b){return Object.prototype.hasOwnProperty.call(r,b)},O.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var F={};return function(){O.r(F),O.d(F,{default:function(){return X}});var r=O(452);function b(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function j(e,t){if(e){if(typeof e=="string")return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function E(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,o){var c=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var d,u,f=[],p=!0,a=!1;try{for(c=c.call(n);!(p=(d=c.next()).done)&&(f.push(d.value),!o||f.length!==o);p=!0);}catch(l){a=!0,u=l}finally{try{p||c.return==null||c.return()}finally{if(a)throw u}}return f}}(e,t)||j(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M(e){return function(t){if(Array.isArray(t))return b(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||j(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=(0,r.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,t=this.onClick;return(0,r.createVNode)("span",{class:"vjs-tree__brackets",onClick:t},[e])}}),U=(0,r.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,t){var n=t.emit;return{uiType:(0,r.computed)(function(){return e.isMultiple?"checkbox":"radio"}),model:(0,r.computed)({get:function(){return e.checked},set:function(o){return n("update:modelValue",o)}})}},render:function(){var e=this.uiType,t=this.model,n=this.$emit;return(0,r.createVNode)("label",{class:["vjs-check-controller",t?"is-checked":""],onClick:function(o){return o.stopPropagation()}},[(0,r.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(e)},null),(0,r.createVNode)("input",{checked:t,class:"vjs-check-controller__original is-".concat(e),type:e,onChange:function(){return n("change",t)}},null)])}});function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,o)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(o){T(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function H(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function S(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,c=o||{},d=c.key,u=c.index,f=c.type,p=f===void 0?"content":f,a=c.showComma,l=a!==void 0&&a,i=c.length,y=i===void 0?1:i,s=H(e);if(s==="array"){var v=e.map(function(h,g,w){return S(h,"".concat(t,"[").concat(g,"]"),n+1,{index:g,showComma:g!==w.length-1,length:y,type:p})}).reduce(function(h,g){return h.concat(g)},[]);return[S("[",t,n,{showComma:!1,key:d,length:e.length,type:"arrayStart"})[0]].concat(v,S("]",t,n,{showComma:l,length:e.length,type:"arrayEnd"})[0])}if(s==="object"){var m=Object.keys(e),N=m.map(function(h,g,w){return S(e[h],h.includes(".")?"".concat(t,'["').concat(h,'"]'):"".concat(t,".").concat(h),n+1,{key:h,showComma:g!==w.length-1,length:y,type:p})}).reduce(function(h,g){return h.concat(g)},[]);return[S("{",t,n,{showComma:!1,key:d,index:u,length:m.length,type:"objectStart"})[0]].concat(N,S("}",t,n,{showComma:l,length:m.length,type:"objectEnd"})[0])}var x=Object.entries({content:e,level:n,key:d,index:u,path:t,showComma:l,length:y,type:p}).reduce(function(h,g){var w=E(g,2),z=w[0],Q=w[1];return Q!==void 0?J(J({},h),{},T({},z,Q)):h},{});return[x]}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,o)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(o){T(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var Y={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},G=(0,r.defineComponent)({name:"TreeNode",props:q(q({},Y),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(e,t){var n=t.emit,o=(0,r.computed)(function(){return H(e.node.content)}),c=(0,r.computed)(function(){return"vjs-value vjs-value__".concat(o.value)}),d=(0,r.computed)(function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key}),u=(0,r.computed)(function(){return e.selectableType==="multiple"}),f=(0,r.computed)(function(){return e.selectableType==="single"}),p=(0,r.computed)(function(){return e.pathSelectable(e.node.path,e.node.content)&&(u.value||f.value)}),a=function(l){var i=l+"";return o.value==="string"&&(i='"'.concat(i,'"')),i};return{state:(0,r.reactive)({valueClass:c,prettyKey:d,isMultiple:u,selectable:p}),defaultFormatter:a,customFormatter:function(l){return e.customValueFormatter?e.customValueFormatter(l,e.node.key,e.node.path,a(l)):a(l)},onBracketsClickHandler:function(){e.collapsedOnClickBrackets&&n("brackets-click",!e.collapsed,e.node.path)},onCheckedChange:function(){n("selected-change",e.node)},onNodeClick:function(){n("tree-node-click",e.node),p.value&&e.selectOnClickNode&&n("selected-change",e.node)}}},render:function(){var e=this.state,t=this.node,n=this.showSelectController,o=this.highlightSelectedNode,c=this.checked,d=this.showLength,u=this.collapsed,f=this.showLine,p=this.customValueFormatter,a=this.defaultFormatter,l=this.customFormatter,i=this.onNodeClick,y=this.onCheckedChange,s=this.onBracketsClickHandler;return(0,r.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":n,"is-highlight":o&&c},onClick:i},[n&&e.selectable&&t.type!=="objectEnd"&&t.type!=="arrayEnd"&&(0,r.createVNode)(U,{isMultiple:e.isMultiple,checked:c,onChange:y},null),Array.from(Array(t.level)).map(function(v,m){return(0,r.createVNode)("div",{key:m,class:{"vjs-tree__indent":!0,"has-line":f}},null)}),t.key&&(0,r.createVNode)("span",{class:"vjs-key"},["".concat(e.prettyKey,": ")]),(0,r.createVNode)("span",null,[t.type!=="content"?(0,r.createVNode)(R,{data:t.content,onClick:s},null):p?(0,r.createVNode)("span",{class:e.valueClass,innerHTML:l(t.content)},null):(0,r.createVNode)("span",{class:e.valueClass},[a(t.content)]),t.showComma&&(0,r.createVNode)("span",null,[","]),d&&u&&(0,r.createVNode)("span",{class:"vjs-comment"},[(0,r.createTextVNode)(" // "),t.length,(0,r.createTextVNode)(" items ")])])])}});function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(o){T(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}var W=(0,r.defineComponent)({name:"Tree",props:k(k({},Y),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(e,t){var n=t.emit,o=(0,r.ref)(),c=(0,r.reactive)({translateY:0,visibleData:null,hiddenPaths:S(e.data,e.path).reduce(function(a,l){var i=e.deepCollapseChildren?l.level>=e.deep:l.level===e.deep;return l.type!=="objectStart"&&l.type!=="arrayStart"||!i?a:k(k({},a),{},T({},l.path,1))},{})}),d=(0,r.computed)(function(){var a=null;return S(e.data,e.path).reduce(function(l,i,y){var s=k(k({},i),{},{id:y}),v=c.hiddenPaths[s.path];if(a&&a.path===s.path){var m=a.type==="objectStart",N=k(k(k({},a),s),{},{content:m?"{...}":"[...]",type:m?"objectCollapsed":"arrayCollapsed"});return a=null,l.concat(N)}return v&&!a?(a=s,l):a?l:l.concat(s)},[])}),u=(0,r.computed)(function(){var a=e.modelValue;return a&&e.selectableType==="multiple"&&Array.isArray(a)?a:[a]}),f=(0,r.computed)(function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),p=function(a){if(e.virtual){var l=o.value,i=e.virtualLines,y=l&&l.scrollTop||0,s=Math.floor(y/e.itemHeight),v=s<0?0:s+i>a.length?a.length-i:s;v<0&&(v=0);var m=v+i;c.translateY=v*e.itemHeight,c.visibleData=a.filter(function(N,x){return x>=v&&x<m})}else c.visibleData=a};return(0,r.watchEffect)(function(){f.value&&function(a){throw new Error("[VueJSONPretty] ".concat(a))}(f.value)}),(0,r.watchEffect)(function(){d.value&&p(d.value)}),{tree:o,state:c,flatData:d,selectedPaths:u,onTreeScroll:function(){p(d.value)},onSelectedChange:function(a){var l=a.path,i=e.selectableType;if(i==="multiple"){var y=u.value.findIndex(function(N){return N===l}),s=M(u.value);y!==-1?s.splice(y,1):s.push(l),n("update:modelValue",s),n("change",s,M(u.value))}else if(i==="single"&&u.value[0]!==l){var v=E(u.value,1)[0],m=l;n("update:modelValue",m),n("change",m,v)}},onTreeNodeClick:function(a){var l=a.content,i=a.path;n("click",i,l)},onBracketsClick:function(a,l){if(a)c.hiddenPaths=k(k({},c.hiddenPaths),{},T({},l,1));else{var i=k({},c.hiddenPaths);delete i[l],c.hiddenPaths=i}}}},render:function(){var e=this.virtual,t=this.itemHeight,n=this.customValueFormatter,o=this.showDoubleQuotes,c=this.showLength,d=this.showLine,u=this.showSelectController,f=this.selectOnClickNode,p=this.pathSelectable,a=this.highlightSelectedNode,l=this.collapsedOnClickBrackets,i=this.state,y=this.flatData,s=this.selectedPaths,v=this.selectableType,m=this.onTreeNodeClick,N=this.onBracketsClick,x=this.onSelectedChange,h=this.onTreeScroll,g=i.visibleData&&i.visibleData.map(function(w){return(0,r.createVNode)(G,{key:w.id,node:w,collapsed:!!i.hiddenPaths[w.path],"custom-value-formatter":n,"show-double-quotes":o,"show-length":c,"collapsed-on-click-brackets":l,checked:s.includes(w.path),"selectable-type":v,"show-line":d,"show-select-controller":u,"select-on-click-node":f,"path-selectable":p,"highlight-selected-node":a,onTreeNodeClick:m,onBracketsClick:N,onSelectedChange:x},null)});return(0,r.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":e},onScroll:h},[e?(0,r.createVNode)("div",{style:{height:"".concat(y.length*t,"px")}},[(0,r.createVNode)("div",{style:{transform:"translateY(".concat(i.translateY,"px)")}},[g])]):g])}}),X=(0,r.defineComponent)(W)}(),F}()})})(K);var fe=ne(K.exports);const me=_("h1",{id:"json-\u683C\u5F0F\u5316",tabindex:"-1"},[_("a",{class:"header-anchor",href:"#json-\u683C\u5F0F\u5316","aria-hidden":"true"},"#"),pe(" JSON \u683C\u5F0F\u5316")],-1),ye={class:"jsonformatter"},ve={class:"originjson"},ge=_("p",null,"JSON\u5B57\u7B26\u4E32:",-1),be={class:"result"},ke=_("p",null,"\u683C\u5F0F\u5316\u7ED3\u679C:",-1),Oe={setup(A){const B={status:200,error:"",data:[{news_id:51184,title:"iPhone X Review: Innovative future with real black technology",source:"Netease phone"},{news_id:51183,title:"Traffic paradise: How to design streets for people and unmanned vehicles in the future?",source:"Netease smart",link:"http://netease.smart/traffic-paradise/1235",author:{names:["Daniel","Mike","John"]}},{news_id:51182,title:"Teslamask's American Business Relations: The government does not pay billions to build factories",source:"AI Finance",members:["Daniel","Mike","John"]}]},C=oe({val:JSON.stringify(B),data:B});return ae(()=>C.val,P=>{try{C.data=JSON.parse(P)}catch{}}),(P,V)=>(le(),ce(de,null,[me,_("div",ye,[_("div",ve,[ge,ie(_("textarea",{"onUpdate:modelValue":V[0]||(V[0]=O=>D(C).val=O),rows:"30"},null,512),[[se,D(C).val]])]),_("div",be,[ke,ue(D(fe),{data:D(C).data},null,8,["data"])])])],64))}};var we=re(Oe,[["__file","jsonformat.html.vue"]]);export{we as default};
